LIST p=18f4520
    #include<p18f4520.inc>
	CONFIG OSC = INTIO67
	CONFIG WDT = OFF
	org 0x00
INITIAL:
    MOVLW 0x0B  ; WREG = 0x0B
    MOVWF 0x010 ; [0x010] = WREG
    MOVLW 0x05  ; WREG = 0x05
    MOVWF 0x011 ; [0x011] = WREG
    MOVLW 0x40  ; WREG = 0x40
    MOVWF 0x012 ; [0x012] = WREG
    MOVLW 0x07  ; WREG = 0x07
    MOVWF 0x013 ; [0x013] = WREG
    MOVLW 0x0D  ; WREG = 0x0D
    MOVWF 0x014 ; [0x014] = WREG
    MOVLW 0x7F  ; WREG = 0x7F
    MOVWF 0x015 ; [0x015] = WREG
    MOVLW 0x0A  ; WREG = 0x0A
    MOVWF 0x016 ; [0x016] = WREG
    MOVLW 0x01  ; WREG = 0x01
    MOVWF 0x017 ; [0x017] = WREG
    MOVLW 0xFE  ; WREG = 0xFE
    MOVWF 0x018 ; [0x018] = WREG
    ;DB 0x0B, 0x05, 0x40, 0x07, 0x0D, 0x7F, 0x0A, 0x01, 0xFE
    COUNTER EQU 0x020
    FIX EQU 0x030
    LFSR 0,0x010
    LFSR 1,0x011
    MOVLW 0x00
    MOVWF COUNTER
    MOVLW 0x08
    MOVWF FIX
    GOTO ROUND
SWAP:
    MOVFF INDF0,WREG
    MOVFF INDF1,INDF0
    MOVFF WREG,INDF1
    GOTO CONTINUE
ROUND:
    MOVF INDF0, 0,0
    SUBFWB INDF1,0
    BC SWAP
CONTINUE:
    MOVF POSTINC0
    MOVF POSTINC1
    INCF COUNTER
    MOVFF COUNTER,WREG
    SUBWF FIX,WREG
    BNZ ROUND
    CLRF COUNTER
    LFSR 0,0x010
    LFSR 1,0x011
    DECF FIX
    MOVF FIX
    BNZ ROUND
	end


